spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/persimmon_scaffold
    username: postgres
    password: postgres
  flyway:
    enabled: true
    baselineOnMigrate: true
    locations: classpath:db/migration
    # MUST set false to true in production
    clean-disabled: false
    baseline-version: 0.0.0
  kafka:
    bootstrap-servers: localhost:9092

persimmon:
  outbox:
    # Shared topic name used by both producer and consumer.
    topic: persimmon-outbox
    # Options: kafka | (unset -> logging/noop)
    transport: kafka
    retry:
      base-seconds: 1
      max-seconds: 300
      max-attempts: 10
    relay:
      worker-id: local
      lease-seconds: 30
      batch-size: 100
      fixed-delay-ms: 1000
    kafka:
      producer:
        send-timeout-ms: 5000
      consumer:
        group-id: persimmon-outbox-consumer
        concurrency: 1
